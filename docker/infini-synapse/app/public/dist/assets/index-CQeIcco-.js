import{d as f,ad as A,e as m,r as C,o as v,h as T,c as t}from"./index-BZdmBmj0.js";import{A as s,v as k}from"./ApiOptions-BHjvxuQE.js";import{u as S}from"./ai-DqbqgVmh.js";import{a as O,T as g}from"./index-CkEEvLT9.js";import"./index-CRVRze-2.js";import"./cloneDeep-Bn8dDUVD.js";import"./useFlexGapSupport-Dlv4D1r_.js";import"./useRefs-DPbZSX2L.js";import"./_arrayIncludesWith-DbV0gfeD.js";import"./debounce-YDXz6DON.js";import"./QuestionCircleOutlined-BwaDrrQv.js";import"./collapseMotion-CeVCODdD.js";import"./_castArrayLikeObject-Cgp_WWiE.js";import"./index-SO7luV8-.js";import"./index-Bd8gCf15.js";import"./_baseUniq-DFG0VhlI.js";import"./index-CFFIJWRV.js";import"./isMobile-BbN7I0i_.js";import"./useMergedState-DhbHfaR-.js";import"./DownOutlined-TPYklMQS.js";import"./CheckOutlined-BtSoJBna.js";import"./move-Yc2zikxn.js";import"./index-DlPi_fof.js";import"./pick-BVW8h3T0.js";import"./PlusOutlined-DbI2hxgK.js";const P=f({props:{onDone:{type:Function}},setup:n=>{const{onDone:i}=n,l=S(),{postMessage:p,bindEvent:h,unbindEvent:M}=l,{modifyState:o}=A(l),r=m(()=>o.value.planActSeparateModelsSetting),u=m(()=>o.value.chatSettings),a=C(null),y=(e=!1)=>{const w=k(o.value.apiConfiguration);let c=o.value.apiConfiguration;w&&(c=void 0),p({type:"updateSettings",planActSeparateModelsSetting:r.value,customInstructionsSetting:o.value.customInstructions,apiConfiguration:c}),e||i==null||i()},d=e=>{switch(e.type){case"didUpdateSettings":if(a.value){p({type:"togglePlanActMode",chatSettings:{mode:a.value}}),a.value=null;break}}};v(()=>{h("webviewMessage",d)}),T(()=>{M("webviewMessage",d)});const b=e=>{e!==u.value.mode&&(a.value=e,y(!0))};return()=>t("div",{class:"ml-6 h-full overflow-y-scroll"},[r.value?t(O,{activeKey:u.value.mode,onChange:b,destroyInactiveTabPane:!0},{default:()=>[t(g,{key:"plan",tab:"Plan Mode"},{default:()=>[t(s,{key:"plan",showModelOptions:!0},null)]}),t(g,{key:"act",tab:"Act Mode"},{default:()=>[t(s,{key:"act",showModelOptions:!0},null)]})]}):t("div",{class:"pt-3"},[t(s,{key:"single",showModelOptions:!0},null)])])}}),tt=f({setup:()=>{const{postMessage:n}=S();return v(()=>{n({type:"webviewDidLaunch"})}),()=>t(P,null,null)}});export{tt as default};
