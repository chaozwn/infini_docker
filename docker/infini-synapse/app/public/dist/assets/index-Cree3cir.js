import{d as b,X as I,r as c,n as z,q as k,v as s,c as t,E as a,K as M,F as m,x as S,aq as B,a7 as F,A as U,C as V,D as j,V as f,L as u,ar as q,ap as N,k as A}from"./index-f6N2PmCM.js";import{F as E,a as L}from"./index-BT0JjT4k.js";import{C as R}from"./index-28JxCKaj.js";import"./cloneDeep-Bh2yPASu.js";import"./useFlexGapSupport-B2hfCqYp.js";import"./useRefs-BkCdOs58.js";import"./_arrayIncludesWith-DbV0gfeD.js";import"./debounce-CcJEfXpO.js";import"./QuestionCircleOutlined-CC_BEwwS.js";import"./collapseMotion-BnKEbyn_.js";import"./_castArrayLikeObject-CGTodXyQ.js";import"./index-DF94JMeL.js";import"./index-Bo1R-xm-.js";import"./_baseUniq-Kn3ilH0t.js";import"./pick-DpuKsmSZ.js";import"./isMobile-BbN7I0i_.js";import"./useMergedState-DWHyS94R.js";import"./PlusOutlined-Am07YWdf.js";const T={class:"mx-auto w-full h-screen overflow-hidden flex min-w-[960px]"},D={class:"min-w-[500px] flex items-center px-8"},K=["src"],X=b({__name:"index",setup($){const x=V(),_=j(),g=I(),p=c(!1),v=c(""),o=c({username:"admin",password:"a123456",verifyCode:"",captchaId:""}),d=async()=>{const n=await B.captcha.captchaCaptchaByImg({width:100,height:50});v.value=n.img,o.value.captchaId=n.id};d();const w=async()=>{const{username:n,password:e,verifyCode:r}=o.value;if(n.trim()==""||e.trim()=="")return u.warning("用户名或密码不能为空！");if(!r)return u.warning("请输入验证码！");u.loading("登录中...",0),p.value=!0;const[l]=await q(g.login(o.value));l?(N.error({title:()=>"提示",content:()=>l.message}),d()):(u.success("登录成功！"),setTimeout(()=>_.replace(x.query.redirect||"/"))),p.value=!1,u.destroy()};return(n,e)=>{const r=F,l=E,h=U("a-button"),y=L,C=R;return z(),k("div",T,[e[5]||(e[5]=s("div",{class:"flex-1 flex items-center justify-center bg-blue-500 flex-col"},[s("h1",{class:"font-bold text-5xl text-white"},"InfiniSynapse"),s("p",{class:"text-white text-3xl"},"只做最好的智能数据分析系统")],-1)),s("div",D,[t(C,{class:"w-full"},{default:a(()=>[e[4]||(e[4]=s("header",{class:"flex gap-2 items-center justify-center pt-6 pb-9"},[s("div",{class:"size-[24px] flex items-center justify-center"},[s("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[s("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})])]),s("h1",{class:"text-2xl font-bold !mb-0"},"InfiniSynapse")],-1)),t(y,{layout:"horizontal",model:o.value,onSubmit:M(w,["prevent"])},{default:a(()=>[t(l,null,{default:a(()=>[t(r,{value:o.value.username,"onUpdate:value":e[0]||(e[0]=i=>o.value.username=i),size:"large",placeholder:"admin"},{prefix:a(()=>[t(m(f),{icon:"ant-design:user-outlined"})]),_:1},8,["value"])]),_:1}),t(l,null,{default:a(()=>[t(r,{value:o.value.password,"onUpdate:value":e[1]||(e[1]=i=>o.value.password=i),size:"large",type:"password",placeholder:"a123456",autocomplete:"new-password"},{prefix:a(()=>[t(m(f),{icon:"ant-design:lock-outlined"})]),_:1},8,["value"])]),_:1}),t(l,null,{default:a(()=>[t(r,{value:o.value.verifyCode,"onUpdate:value":e[2]||(e[2]=i=>o.value.verifyCode=i),placeholder:"验证码",maxlength:4,size:"large"},{prefix:a(()=>[t(m(f),{icon:"ant-design:safety-outlined"})]),suffix:a(()=>[s("img",{src:v.value,class:"absolute right-0 h-full cursor-pointer",onClick:d},null,8,K)]),_:1},8,["value"])]),_:1}),t(l,null,{default:a(()=>[t(h,{type:"primary","html-type":"submit",size:"large",loading:p.value,block:""},{default:a(()=>e[3]||(e[3]=[S(" 登录 ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])])}}}),ue=A(X,[["__scopeId","data-v-31d2060e"]]);export{ue as default};
