import{d as b,Z as I,r as c,q as z,v as M,x as s,c as t,E as o,L as S,F as m,G as k,as as B,a9 as F,A as U,C as j,D as N,X as f,M as u,at as V,ar as q,n as A}from"./index-BZdmBmj0.js";import{F as E,a as L}from"./index-CRVRze-2.js";import{C as R}from"./index-Jjvsv6Gj.js";import"./cloneDeep-Bn8dDUVD.js";import"./useFlexGapSupport-Dlv4D1r_.js";import"./useRefs-DPbZSX2L.js";import"./_arrayIncludesWith-DbV0gfeD.js";import"./debounce-YDXz6DON.js";import"./QuestionCircleOutlined-BwaDrrQv.js";import"./collapseMotion-CeVCODdD.js";import"./_castArrayLikeObject-Cgp_WWiE.js";import"./index-CkEEvLT9.js";import"./index-Bd8gCf15.js";import"./_baseUniq-DFG0VhlI.js";import"./pick-BVW8h3T0.js";import"./isMobile-BbN7I0i_.js";import"./useMergedState-DhbHfaR-.js";import"./PlusOutlined-DbI2hxgK.js";const T={class:"mx-auto w-full h-screen overflow-hidden flex min-w-[960px]"},D={class:"min-w-[500px] flex items-center px-8"},G=["src"],X=b({__name:"index",setup(Z){const x=j(),_=N(),g=I(),p=c(!1),v=c(""),a=c({username:"admin",password:"a123456",verifyCode:"",captchaId:""}),d=async()=>{const n=await B.captcha.captchaCaptchaByImg({width:100,height:50});v.value=n.img,a.value.captchaId=n.id};d();const w=async()=>{const{username:n,password:e,verifyCode:r}=a.value;if(n.trim()==""||e.trim()=="")return u.warning("用户名或密码不能为空！");if(!r)return u.warning("请输入验证码！");u.loading("登录中...",0),p.value=!0,a.value;const[l]=await V(g.login(a.value));l?(q.error({title:()=>"提示",content:()=>l.message}),d()):(u.success("登录成功！"),setTimeout(()=>_.replace(x.query.redirect||"/"))),p.value=!1,u.destroy()};return(n,e)=>{const r=F,l=E,h=U("a-button"),y=L,C=R;return z(),M("div",T,[e[5]||(e[5]=s("div",{class:"flex-1 flex items-center justify-center bg-blue-500 flex-col"},[s("h1",{class:"font-bold text-5xl text-white"},"InfiniSynapse"),s("p",{class:"text-white text-3xl"},"只做最好的智能数据分析系统")],-1)),s("div",D,[t(C,{class:"w-full"},{default:o(()=>[e[4]||(e[4]=s("header",{class:"flex gap-2 items-center justify-center pt-6 pb-9"},[s("div",{class:"size-[24px] flex items-center justify-center"},[s("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[s("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})])]),s("h1",{class:"text-2xl font-bold !mb-0"},"InfiniSynapse")],-1)),t(y,{layout:"horizontal",model:a.value,onSubmit:S(w,["prevent"])},{default:o(()=>[t(l,null,{default:o(()=>[t(r,{value:a.value.username,"onUpdate:value":e[0]||(e[0]=i=>a.value.username=i),size:"large",placeholder:"admin"},{prefix:o(()=>[t(m(f),{icon:"ant-design:user-outlined"})]),_:1},8,["value"])]),_:1}),t(l,null,{default:o(()=>[t(r,{value:a.value.password,"onUpdate:value":e[1]||(e[1]=i=>a.value.password=i),size:"large",type:"password",placeholder:"a123456",autocomplete:"new-password"},{prefix:o(()=>[t(m(f),{icon:"ant-design:lock-outlined"})]),_:1},8,["value"])]),_:1}),t(l,null,{default:o(()=>[t(r,{value:a.value.verifyCode,"onUpdate:value":e[2]||(e[2]=i=>a.value.verifyCode=i),placeholder:"验证码",maxlength:4,size:"large"},{prefix:o(()=>[t(m(f),{icon:"ant-design:safety-outlined"})]),suffix:o(()=>[s("img",{src:v.value,class:"absolute right-0 h-full cursor-pointer",onClick:d},null,8,G)]),_:1},8,["value"])]),_:1}),t(l,null,{default:o(()=>[t(h,{type:"primary","html-type":"submit",size:"large",loading:p.value,block:""},{default:o(()=>e[3]||(e[3]=[k(" 登录 ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])])}}}),ue=A(X,[["__scopeId","data-v-8c007d0f"]]);export{ue as default};
