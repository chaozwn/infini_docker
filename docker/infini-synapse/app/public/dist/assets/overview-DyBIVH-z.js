import{t as te,i as se,u as ae,a as ie,b as ne,c as oe,d as le}from"./install-Ctb9Q3K_.js";import{d as W,s as j,f as P,aV as re,e as E,aW as ue,w as U,ao as Y,o as ce,h as fe,aX as de,aH as ve,F as w,a3 as pe,r as f,q as he,v as me,x as V,c as d,E as k,as as ge,n as _e}from"./index-3Y2L8Jwy.js";import I from"./overview-header-item-CQIIQs5o.js";import{f as F}from"./index-BxFhrhAI.js";import{a as H}from"./index-B43acP7c.js";import{C as Oe}from"./index-MLyYvSQI.js";import"./_castArrayLikeObject-Cmo_jate.js";import"./_arrayIncludesWith-DbV0gfeD.js";import"./_baseUniq-GBykg-gc.js";import"./index-V-ILxsgN.js";import"./collapseMotion-CaWKbpu5.js";import"./useRefs-Coab_dzV.js";import"./pick-zyaBKG-Z.js";import"./isMobile-BbN7I0i_.js";import"./useMergedState-fatNDSdO.js";import"./PlusOutlined-BOyfvu-B.js";const we=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function xe(e){function o(t){return(...l)=>{if(!e.value)throw new Error("ECharts is not initialized yet.");return e.value[t].apply(e.value,l)}}function s(){const t=Object.create(null);return we.forEach(l=>{t[l]=o(l)}),t}return s()}function be(e,o,s){U([s,e,o],([t,l,r],y,x)=>{let u=null;if(t&&l&&r){const{offsetWidth:g,offsetHeight:_}=t,T=r===!0?{}:r,{throttle:b=100,onResize:v}=T;let a=!1;const c=()=>{l.resize(),v==null||v()},p=b?te(c,b):c;u=new ResizeObserver(()=>{!a&&(a=!0,t.offsetWidth===g&&t.offsetHeight===_)||p()}),u.observe(t)}x(()=>{u&&(u.disconnect(),u=null)})})}const Ee={autoresize:[Boolean,Object]},ye=/^on[^a-z]/,q=e=>ye.test(e);function Te(e){const o={};for(const s in e)q(s)||(o[s]=e[s]);return o}function M(e,o){const s=ve(e)?w(e):e;return s&&typeof s=="object"&&"value"in s?s.value||o:s||o}const Le="ecLoadingOptions";function ze(e,o,s){const t=P(Le,{}),l=E(()=>({...M(t,{}),...s==null?void 0:s.value}));Y(()=>{const r=e.value;r&&(o.value?r.showLoading(l.value):r.hideLoading())})}const Ae={loading:Boolean,loadingOptions:Object};let A=null;const X="x-vue-echarts";function Se(){if(A!=null)return A;if(typeof HTMLElement>"u"||typeof customElements>"u")return A=!1;try{new Function("tag","class EChartsElement extends HTMLElement{__dispose=null;disconnectedCallback(){this.__dispose&&(this.__dispose(),this.__dispose=null)}}customElements.get(tag)==null&&customElements.define(tag,EChartsElement);")(X)}catch{return A=!1}return A=!0}document.head.appendChild(document.createElement("style")).textContent=`x-vue-echarts{display:block;width:100%;height:100%;min-width:0}
`;const Ce=Se(),Ne="ecTheme",$e="ecInitOptions",ke="ecUpdateOptions",G=/(^&?~?!?)native:/;var K=W({name:"echarts",props:{option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean,...Ee,...Ae},emits:{},inheritAttrs:!1,setup(e,{attrs:o}){const s=j(),t=j(),l=j(),r=P(Ne,null),y=P($e,null),x=P(ke,null),{autoresize:u,manualUpdate:g,loading:_,loadingOptions:T}=re(e),b=E(()=>l.value||e.option||null),v=E(()=>e.theme||M(r,{})),a=E(()=>e.initOptions||M(y,{})),c=E(()=>e.updateOptions||M(x,{})),p=E(()=>Te(o)),O={},S=ue().proxy.$listeners,C={};S?Object.keys(S).forEach(n=>{G.test(n)?O[n.replace(G,"$1")]=S[n]:C[n]=S[n]}):Object.keys(o).filter(n=>q(n)).forEach(n=>{let i=n.charAt(2).toLowerCase()+n.slice(3);if(i.indexOf("native:")===0){const L=`on${i.charAt(7).toUpperCase()}${i.slice(8)}`;O[L]=o[n];return}i.substring(i.length-4)==="Once"&&(i=`~${i.substring(0,i.length-4)}`),C[i]=o[n]});function N(n){if(!s.value)return;const i=t.value=se(s.value,v.value,a.value);e.group&&(i.group=e.group),Object.keys(C).forEach(z=>{let h=C[z];if(!h)return;let m=z.toLowerCase();m.charAt(0)==="~"&&(m=m.substring(1),h.__once__=!0);let D=i;if(m.indexOf("zr:")===0&&(D=i.getZr(),m=m.substring(3)),h.__once__){delete h.__once__;const Q=h;h=(...ee)=>{Q(...ee),D.off(m,h)}}D.on(m,h)});function L(){i&&!i.isDisposed()&&i.resize()}function R(){const z=n||b.value;z&&i.setOption(z,c.value)}u.value?pe(()=>{L(),R()}):R()}function Z(n,i){e.manualUpdate&&(l.value=n),t.value?t.value.setOption(n,i||{}):N(n)}function B(){t.value&&(t.value.dispose(),t.value=void 0)}let $=null;U(g,n=>{typeof $=="function"&&($(),$=null),n||($=U(()=>e.option,(i,L)=>{i&&(t.value?t.value.setOption(i,{notMerge:i!==L,...c.value}):N())},{deep:!0}))},{immediate:!0}),U([v,a],()=>{B(),N()},{deep:!0}),Y(()=>{e.group&&t.value&&(t.value.group=e.group)});const J=xe(t);return ze(t,_,T),be(t,u,s),ce(()=>{N()}),fe(()=>{Ce&&s.value?s.value.__dispose=B:B()}),{chart:t,root:s,setOption:Z,nonEventAttrs:p,nativeListeners:O,...J}},render(){const e={...this.nonEventAttrs,...this.nativeListeners};return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",de(X,e)}});const Ie={class:"netdisk-overview-container"},Pe={class:"ov-header"},Ue={class:"ov-content"},Me=W({name:"NetDiskOverview",__name:"overview",setup(e){ae([ie,ne,oe,le]);const o=f(!1),s=f(0),t=f("B"),l=f(0),r=f(0),y=f("B"),x=f(0),u=f("flow"),g=f({tooltip:{trigger:"axis",formatter:a=>`<div>${a[0].name}号</div><div>${a[0].marker} ${a[0].seriesName}：${a[0].value}MB</div>`},xAxis:{type:"category",boundaryGap:!1,axisLine:{show:!1},splitLine:{show:!1},data:[]},yAxis:{type:"value",axisLabel:{formatter:"{value}MB"},axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},grid:{show:!1,top:"5%",right:"2%",left:"5%",bottom:"8%"},series:[{name:"使用流量",data:[],type:"line",smooth:.6,areaStyle:{color:"#8cc6f2"},itemStyle:{opacity:0},lineStyle:{color:"#8cc6f2"}}]}),_=f({tooltip:{trigger:"axis",formatter:a=>`<div>${a[0].name}号</div><div>${a[0].marker} ${a[0].seriesName}：${a[0].value}MB</div>`},xAxis:{type:"category",boundaryGap:!1,axisLine:{show:!1},splitLine:{show:!1},data:[]},yAxis:{type:"value",axisLabel:{formatter:"{value}MB"},axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},grid:{show:!1,top:"5%",right:"2%",left:"5%",bottom:"8%"},series:[{name:"占用空间",data:[],type:"line",smooth:.6,areaStyle:{color:"#8cc6f2"},itemStyle:{opacity:0},lineStyle:{color:"#8cc6f2"}}]}),T=async()=>{try{b();const a=await ge.netDiskOverview.netDiskOverviewSpace(),c=F(a.spaceSize).split(" ");s.value=Number(c[0]),t.value=c[1],l.value=a.fileSize;const p=F(a.flowSize).split(" ");r.value=Number(p[0]),y.value=p[1],x.value=a.hitSize,g.value.xAxis.data=a.flowTrend.times,g.value.series[0].data=a.flowTrend.datas.map(O=>(O/1024/1024).toFixed()),_.value.xAxis.data=a.sizeTrend.times,_.value.series[0].data=a.sizeTrend.datas.map(O=>(O/1024/1024).toFixed())}finally{v()}},b=()=>{o.value=!0},v=()=>{o.value=!1};return T(),(a,c)=>(he(),me("div",Ie,[V("div",Pe,[d(I,{title:"存储总量",value:s.value,suffix:t.value},null,8,["value","suffix"]),d(I,{title:"文件数量",value:l.value,suffix:"个"},null,8,["value"]),d(I,{title:"下载流量",value:r.value,suffix:y.value},null,8,["value","suffix"]),d(I,{title:"GET请求次数",value:x.value,suffix:"次"},null,8,["value"])]),V("div",Ue,[d(w(Oe),{shadow:"hover"},{default:k(()=>[d(w(H),{modelValue:u.value,"onUpdate:modelValue":c[0]||(c[0]=p=>u.value=p),"destroy-inactive-tab-pane":""},{default:k(()=>[d(w(H).TabPane,{key:"flow",tab:"流量趋势"},{default:k(()=>[d(w(K),{option:g.value,style:{height:"320px"},autoresize:""},null,8,["option"])]),_:1}),d(w(H).TabPane,{key:"space",tab:"容量趋势"},{default:k(()=>[d(w(K),{option:_.value,style:{height:"320px"},autoresize:""},null,8,["option"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])]))}}),et=_e(Me,[["__scopeId","data-v-8299a4ee"]]);export{et as default};
