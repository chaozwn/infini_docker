import{cq as de,a as ue,m as he,bu as ge,_ as T,aJ as me,aK as fe,bk as pe,t as we,d as ce,cr as Se,cs as ye,e as U,b1 as $e,r as W,w as Z,b as ve,o as be,a3 as _,c as $,k as G,b0 as Me,ct as Ie,aG as ie,cu as xe,P as m,bt as le,I as re,b6 as ae,cv as Ce,b9 as Le,cw as Pe,q as J,B as K,E as P,x as H,F as M,Y as ze,al as Ee,a5 as B,a1 as Oe,ce as Te,C as He,cx as Be,ar as We,cy as Fe,G as z,H as Re,L as De,J as Xe}from"./index-BOVJKpu-.js";import{S as je}from"./index-9aCQkxJL.js";import{d as Ae}from"./debounce-DUY9bvK_.js";var Ve="Expected a function";function Q(e,t,n){var s=!0,r=!0;if(typeof e!="function")throw new TypeError(Ve);return de(n)&&(s="leading"in n?!!n.leading:s,r="trailing"in n?!!n.trailing:r),Ae(e,t,{leading:s,maxWait:t,trailing:r})}const Ye=e=>{const{componentCls:t}=e,n=`${t}-inner`;return{[t]:{[`&${t}-small`]:{minWidth:e.switchMinWidthSM,height:e.switchHeightSM,lineHeight:`${e.switchHeightSM}px`,[`${t}-inner`]:{paddingInlineStart:e.switchInnerMarginMaxSM,paddingInlineEnd:e.switchInnerMarginMinSM,[`${n}-checked`]:{marginInlineStart:`calc(-100% + ${e.switchPinSizeSM+e.switchPadding*2}px - ${e.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(100% - ${e.switchPinSizeSM+e.switchPadding*2}px + ${e.switchInnerMarginMaxSM*2}px)`},[`${n}-unchecked`]:{marginTop:-e.switchHeightSM,marginInlineStart:0,marginInlineEnd:0}},[`${t}-handle`]:{width:e.switchPinSizeSM,height:e.switchPinSizeSM},[`${t}-loading-icon`]:{top:(e.switchPinSizeSM-e.switchLoadingIconSize)/2,fontSize:e.switchLoadingIconSize},[`&${t}-checked`]:{[`${t}-inner`]:{paddingInlineStart:e.switchInnerMarginMinSM,paddingInlineEnd:e.switchInnerMarginMaxSM,[`${n}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${n}-unchecked`]:{marginInlineStart:`calc(100% - ${e.switchPinSizeSM+e.switchPadding*2}px + ${e.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(-100% + ${e.switchPinSizeSM+e.switchPadding*2}px - ${e.switchInnerMarginMaxSM*2}px)`}},[`${t}-handle`]:{insetInlineStart:`calc(100% - ${e.switchPinSizeSM+e.switchPadding}px)`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${n}`]:{[`${n}-unchecked`]:{marginInlineStart:e.marginXXS/2,marginInlineEnd:-e.marginXXS/2}},[`&${t}-checked ${n}`]:{[`${n}-checked`]:{marginInlineStart:-e.marginXXS/2,marginInlineEnd:e.marginXXS/2}}}}}}},Ne=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-loading-icon${e.iconCls}`]:{position:"relative",top:(e.switchPinSize-e.fontSize)/2,color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${t}-checked ${t}-loading-icon`]:{color:e.switchColor}}}},qe=e=>{const{componentCls:t}=e,n=`${t}-handle`;return{[t]:{[n]:{position:"absolute",top:e.switchPadding,insetInlineStart:e.switchPadding,width:e.switchPinSize,height:e.switchPinSize,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:e.colorWhite,borderRadius:e.switchPinSize/2,boxShadow:e.switchHandleShadow,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${t}-checked ${n}`]:{insetInlineStart:`calc(100% - ${e.switchPinSize+e.switchPadding}px)`},[`&:not(${t}-disabled):active`]:{[`${n}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${t}-checked ${n}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},Ue=e=>{const{componentCls:t}=e,n=`${t}-inner`;return{[t]:{[n]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:e.switchInnerMarginMax,paddingInlineEnd:e.switchInnerMarginMin,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${n}-checked, ${n}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none"},[`${n}-checked`]:{marginInlineStart:`calc(-100% + ${e.switchPinSize+e.switchPadding*2}px - ${e.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(100% - ${e.switchPinSize+e.switchPadding*2}px + ${e.switchInnerMarginMax*2}px)`},[`${n}-unchecked`]:{marginTop:-e.switchHeight,marginInlineStart:0,marginInlineEnd:0}},[`&${t}-checked ${n}`]:{paddingInlineStart:e.switchInnerMarginMin,paddingInlineEnd:e.switchInnerMarginMax,[`${n}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${n}-unchecked`]:{marginInlineStart:`calc(100% - ${e.switchPinSize+e.switchPadding*2}px + ${e.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(-100% + ${e.switchPinSize+e.switchPadding*2}px - ${e.switchInnerMarginMax*2}px)`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${n}`]:{[`${n}-unchecked`]:{marginInlineStart:e.switchPadding*2,marginInlineEnd:-e.switchPadding*2}},[`&${t}-checked ${n}`]:{[`${n}-checked`]:{marginInlineStart:-e.switchPadding*2,marginInlineEnd:e.switchPadding*2}}}}}},Ge=e=>{const{componentCls:t}=e;return{[t]:T(T(T(T({},me(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:e.switchMinWidth,height:e.switchHeight,lineHeight:`${e.switchHeight}px`,verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${t}-disabled)`]:{background:e.colorTextTertiary}}),fe(e)),{[`&${t}-checked`]:{background:e.switchColor,[`&:hover:not(${t}-disabled)`]:{background:e.colorPrimaryHover}},[`&${t}-loading, &${t}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${t}-rtl`]:{direction:"rtl"}})}},Je=ue("Switch",e=>{const t=e.fontSize*e.lineHeight,n=e.controlHeight/2,s=2,r=t-s*2,f=n-s*2,d=he(e,{switchMinWidth:r*2+s*4,switchHeight:t,switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchInnerMarginMin:r/2,switchInnerMarginMax:r+s+s*2,switchPadding:s,switchPinSize:r,switchBg:e.colorBgContainer,switchMinWidthSM:f*2+s*2,switchHeightSM:n,switchInnerMarginMinSM:f/2,switchInnerMarginMaxSM:f+s+s*2,switchPinSizeSM:f,switchHandleShadow:`0 2px 4px 0 ${new ge("#00230b").setAlpha(.2).toRgbString()}`,switchLoadingIconSize:e.fontSizeIcon*.75,switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[Ge(d),Ue(d),qe(d),Ne(d),Ye(d)]}),Ke=we("small","default"),Qe=()=>({id:String,prefixCls:String,size:m.oneOf(Ke),disabled:{type:Boolean,default:void 0},checkedChildren:m.any,unCheckedChildren:m.any,tabindex:m.oneOfType([m.string,m.number]),autofocus:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},checked:m.oneOfType([m.string,m.number,m.looseBool]),checkedValue:m.oneOfType([m.string,m.number,m.looseBool]).def(!0),unCheckedValue:m.oneOfType([m.string,m.number,m.looseBool]).def(!1),onChange:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onMouseup:{type:Function},"onUpdate:checked":{type:Function},onBlur:Function,onFocus:Function}),Ze=ce({compatConfig:{MODE:3},name:"ASwitch",__ANT_SWITCH:!0,inheritAttrs:!1,props:Qe(),slots:Object,setup(e,t){let{attrs:n,slots:s,expose:r,emit:f}=t;const d=Se(),E=ye(),c=U(()=>{var l;return(l=e.disabled)!==null&&l!==void 0?l:E.value});$e(()=>{});const I=W(e.checked!==void 0?e.checked:n.defaultChecked),x=U(()=>I.value===e.checkedValue);Z(()=>e.checked,()=>{I.value=e.checked});const{prefixCls:p,direction:O,size:F}=ve("switch",e),[R,D]=Je(p),o=W(),i=()=>{var l;(l=o.value)===null||l===void 0||l.focus()};r({focus:i,blur:()=>{var l;(l=o.value)===null||l===void 0||l.blur()}}),be(()=>{_(()=>{e.autofocus&&!c.value&&o.value.focus()})});const y=(l,S)=>{c.value||(f("update:checked",l),f("change",l,S),d.onFieldChange())},v=l=>{f("blur",l)},u=l=>{i();const S=x.value?e.unCheckedValue:e.checkedValue;y(S,l),f("click",S,l)},w=l=>{l.keyCode===le.LEFT?y(e.unCheckedValue,l):l.keyCode===le.RIGHT&&y(e.checkedValue,l),f("keydown",l)},h=l=>{var S;(S=o.value)===null||S===void 0||S.blur(),f("mouseup",l)},g=U(()=>({[`${p.value}-small`]:F.value==="small",[`${p.value}-loading`]:e.loading,[`${p.value}-checked`]:x.value,[`${p.value}-disabled`]:c.value,[p.value]:!0,[`${p.value}-rtl`]:O.value==="rtl",[D.value]:!0}));return()=>{var l;return R($(xe,null,{default:()=>[$("button",G(G(G({},Me(e,["prefixCls","checkedChildren","unCheckedChildren","checked","autofocus","checkedValue","unCheckedValue","id","onChange","onUpdate:checked"])),n),{},{id:(l=e.id)!==null&&l!==void 0?l:d.id.value,onKeydown:w,onClick:u,onBlur:v,onMouseup:h,type:"button",role:"switch","aria-checked":I.value,disabled:c.value||e.loading,class:[n.class,g.value],ref:o}),[$("div",{class:`${p.value}-handle`},[e.loading?$(Ie,{class:`${p.value}-loading-icon`},null):null]),$("span",{class:`${p.value}-inner`},[$("span",{class:`${p.value}-inner-checked`},[ie(s,e,"checkedChildren")]),$("span",{class:`${p.value}-inner-unchecked`},[ie(s,e,"unCheckedChildren")])])])]}))}}}),at=pe(Ze);var _e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M391 240.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L200 146.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L280 333.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L401 410c5.1.6 9.5-3.7 8.9-8.9L391 240.9zm10.1 373.2L240.8 633c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L146.3 824a8.03 8.03 0 000 11.3l42.4 42.3c3.1 3.1 8.2 3.1 11.3 0L333.7 744l43.7 43.7A8.01 8.01 0 00391 783l18.9-160.1c.6-5.1-3.7-9.4-8.8-8.8zm221.8-204.2L783.2 391c6.6-.8 9.4-8.9 4.7-13.6L744 333.6 877.7 200c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.3a8.03 8.03 0 00-11.3 0L690.3 279.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L614.1 401c-.6 5.2 3.7 9.5 8.8 8.9zM744 690.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L623 614c-5.1-.6-9.5 3.7-8.9 8.9L633 783.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L824 877.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L744 690.4z"}}]},name:"fullscreen-exit",theme:"outlined"};function se(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},s=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),s.forEach(function(r){ke(e,r,n[r])})}return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(t,n){var s=se({},t,n.attrs);return $(re,se({},s,{icon:_e}),null)};k.displayName="FullscreenExitOutlined";k.inheritAttrs=!1;var et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M290 236.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0013.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 000 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 00-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"}}]},name:"fullscreen",theme:"outlined"};function oe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},s=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),s.forEach(function(r){tt(e,r,n[r])})}return e}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee=function(t,n){var s=oe({},t,n.attrs);return $(re,oe({},s,{icon:et}),null)};ee.displayName="FullscreenOutlined";ee.inheritAttrs=!1;const st=ce({__name:"index",props:ae({...Ce(),fullscreen:{type:Boolean,default:!1}},{open:{type:Boolean},openModifiers:{}}),emits:ae(["update:open","update:fullscreen","ok","cancel"],["update:open"]),setup(e,{emit:t}){const n=e,s=t,r=He(),f=Le(e,"open"),d=W(n.fullscreen),E=W(""),c={top:"n-resize",left:"w-resize",right:"e-resize",bottom:"s-resize",topLeft:"nw-resize",topright:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",auto:"auto"};let I=!1;const x=Pe("modalWrap"),p=()=>{f.value=!1,s("cancel")},O=async()=>{var i;await _();const o=(i=x.value)==null?void 0:i.querySelector(".ant-modal");o&&o.getBoundingClientRect().left<1&&(o.style.left=`${(document.documentElement.clientWidth-o.offsetWidth)/2}px`)},F=async()=>{d.value=!1,O()},R=(o,i)=>{i.style.cursor="move",i.onmousedown=Q(a=>{if(d.value)return;document.body.style.userSelect="none";const y=a.clientX-o.getBoundingClientRect().left,v=a.clientY-o.getBoundingClientRect().top,u=h=>{if(d.value)return;let g=h.clientX-y,l=h.clientY-v;const S=document.documentElement.clientWidth-o.offsetWidth,C=document.documentElement.clientHeight-o.offsetHeight;g<=0&&(g=0),l<=0&&(l=0),g>=S&&(g=S),l>=C&&(l=C),o.style.left=`${Math.max(g,0)}px`,o.style.top=`${Math.max(l,0)}px`},w=()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",w),document.body.style.userSelect="auto"};document.addEventListener("mousemove",u),document.addEventListener("mouseup",w)},20)},D=async()=>{await _();const o=x.value,i=o.querySelector(".ant-modal-wrap"),a=o.querySelector(".ant-modal");if(i&&a){O();const y=a.querySelector(".ant-modal-header");y&&R(a,y),i.onmousemove=Q(v=>{if(d.value)return;const u=v.clientX-a.offsetLeft,w=v.clientY-a.offsetTop,h=v.clientX-a.offsetWidth-a.offsetLeft,g=v.clientY-a.offsetHeight-a.offsetTop,l=u<=0&&u>-8,S=w<5&&w>-8,C=h>=0&&h<8,X=g>-5&&g<8;l&&w>5&&g<-5?i.style.cursor=c.left:S&&u>5&&h<-5?i.style.cursor=c.top:C&&w>5&&g<-5?i.style.cursor=c.right:X&&u>5&&h<-5?i.style.cursor=c.bottom:u>-8&&u<=5&&w<=5&&w>-8?i.style.cursor=c.topLeft:u>-8&&u<=5&&g<=5&&g>-8?i.style.cursor=c.bottomLeft:h<8&&h>=-5&&w<=5&&w>-8?i.style.cursor=c.topright:h<8&&h>=-5&&g<=5&&g>-8?i.style.cursor=c.bottomRight:i.style.cursor=c.auto},20),i.onmousedown=v=>{if(d.value)return;const{top:u,bottom:w,left:h,right:g}=a.getBoundingClientRect(),l=v.clientX-h,S=v.clientY-u,C=a.offsetWidth,X=a.offsetHeight,b=i.style.cursor,te=Q(L=>{if(d.value)return;b!==c.auto&&(document.body.style.userSelect="none");const j=`${Math.max(0,L.clientX-l)}px`,A=`${Math.max(0,L.clientY-S)}px`,V=`${Math.min(g,C+h-L.clientX)}px`,Y=`${Math.min(window.innerWidth-h,L.clientX-h)}px`,N=`${Math.min(w,X+u-L.clientY)}px`,q=`${Math.min(window.innerHeight-u,L.clientY-u)}px`;b===c.left?(a.style.left=j,a.style.width=V):b===c.top?(a.style.top=A,a.style.height=N):b===c.right?a.style.width=Y:b===c.bottom?a.style.height=q:b===c.topLeft?(a.style.left=j,a.style.top=A,a.style.height=N,a.style.width=V):b===c.topright?(a.style.top=A,a.style.width=Y,a.style.height=N):b===c.bottomLeft?(a.style.left=j,a.style.width=V,a.style.height=q):b===c.bottomRight&&(a.style.width=Y,a.style.height=q),E.value=a.style.width},20),ne=()=>{document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",ne),document.body.style.userSelect="auto",i.style.cursor=c.auto};document.addEventListener("mousemove",te),document.addEventListener("mouseup",ne)}}I=!0};return Z(f,async o=>{(o&&Object.is(I,!1)||n.destroyOnClose)&&D()}),Z(()=>r.fullPath,p),(o,i)=>{const a=Be;return J(),K(Te,{to:o.getContainer||"body"},[$(a,null,{default:P(()=>[H("div",{ref:"modalWrap",class:Oe(["draggable-modal",{fullscreen:d.value}])},[$(M(We),ze(M(Fe)(n,["open","onCancel","onOk","onUpdate:open"]),{open:f.value,"onUpdate:open":i[2]||(i[2]=y=>f.value=y),"mask-closable":!1,"get-container":()=>M(x),width:E.value||o.width,onOk:i[3]||(i[3]=y=>s("ok")),onCancel:i[4]||(i[4]=y=>s("cancel"))}),Ee({title:P(()=>[B(o.$slots,"title",{},()=>[z(Re(o.$attrs.title||"标题"),1)])]),closeIcon:P(()=>[B(o.$slots,"closeIcon",{},()=>[$(M(je),{class:"ant-modal-operate",onClick:i[1]||(i[1]=De(()=>{},["stop"]))},{default:P(()=>[d.value?(J(),K(M(k),{key:1,onClick:F})):(J(),K(M(ee),{key:0,onClick:i[0]||(i[0]=y=>d.value=!0)})),$(M(Xe),{onClick:p})]),_:1})])]),default:P(()=>[B(o.$slots,"default",{},()=>[i[5]||(i[5]=z(" ① 窗口可以拖动；")),i[6]||(i[6]=H("br",null,null,-1)),i[7]||(i[7]=z(" ② 窗口可以通过八个方向改变大小；")),i[8]||(i[8]=H("br",null,null,-1)),i[9]||(i[9]=z(" ③ 窗口可以最小化、最大化、还原、关闭；")),i[10]||(i[10]=H("br",null,null,-1)),i[11]||(i[11]=z(" ④ 限制窗口最小宽度/高度。 "))])]),_:2},[o.$slots.footer?{name:"footer",fn:P(()=>[B(o.$slots,"footer")]),key:"0"}:void 0]),1040,["open","get-container","width"])],2)]),_:3})],8,["to"])}}});export{ee as F,at as S,st as _,k as a,Q as t};
