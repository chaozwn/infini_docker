import{u as L,i as T,a as $,b as B,c as N,E as _}from"./install-DBU_k1da.js";import l from"./overview-header-item-CqmTjrDC.js";import{d as A,r as a,q as C,v as O,x as b,c as t,E as r,F as i,as as E,n as V}from"./index-CP_NLk5V.js";import{f as S}from"./index-DGspTBaA.js";import{a as v}from"./index-BRUJWZGa.js";import{C as D}from"./index-DZgwoUJC.js";import"./_castArrayLikeObject-ILv2M5FZ.js";import"./_arrayIncludesWith-DbV0gfeD.js";import"./_baseUniq-CFFQq6dw.js";import"./index-ui2LYhtl.js";import"./collapseMotion-IEGzNviF.js";import"./useRefs-Dv5vkZVi.js";import"./pick-B4-lyv4c.js";import"./isMobile-BbN7I0i_.js";import"./useMergedState-Df90kDYb.js";import"./PlusOutlined-D-03OQz2.js";const M={class:"netdisk-overview-container"},U={class:"ov-header"},F={class:"ov-content"},G=A({name:"NetDiskOverview",__name:"overview",setup(I){L([T,$,B,N]);const c=a(!1),d=a(0),p=a("B"),m=a(0),x=a(0),h=a("B"),w=a(0),y=a("flow"),n=a({tooltip:{trigger:"axis",formatter:e=>`<div>${e[0].name}号</div><div>${e[0].marker} ${e[0].seriesName}：${e[0].value}MB</div>`},xAxis:{type:"category",boundaryGap:!1,axisLine:{show:!1},splitLine:{show:!1},data:[]},yAxis:{type:"value",axisLabel:{formatter:"{value}MB"},axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},grid:{show:!1,top:"5%",right:"2%",left:"5%",bottom:"8%"},series:[{name:"使用流量",data:[],type:"line",smooth:.6,areaStyle:{color:"#8cc6f2"},itemStyle:{opacity:0},lineStyle:{color:"#8cc6f2"}}]}),u=a({tooltip:{trigger:"axis",formatter:e=>`<div>${e[0].name}号</div><div>${e[0].marker} ${e[0].seriesName}：${e[0].value}MB</div>`},xAxis:{type:"category",boundaryGap:!1,axisLine:{show:!1},splitLine:{show:!1},data:[]},yAxis:{type:"value",axisLabel:{formatter:"{value}MB"},axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},grid:{show:!1,top:"5%",right:"2%",left:"5%",bottom:"8%"},series:[{name:"占用空间",data:[],type:"line",smooth:.6,areaStyle:{color:"#8cc6f2"},itemStyle:{opacity:0},lineStyle:{color:"#8cc6f2"}}]}),g=async()=>{try{z();const e=await E.netDiskOverview.netDiskOverviewSpace(),s=S(e.spaceSize).split(" ");d.value=Number(s[0]),p.value=s[1],m.value=e.fileSize;const o=S(e.flowSize).split(" ");x.value=Number(o[0]),h.value=o[1],w.value=e.hitSize,n.value.xAxis.data=e.flowTrend.times,n.value.series[0].data=e.flowTrend.datas.map(f=>(f/1024/1024).toFixed()),u.value.xAxis.data=e.sizeTrend.times,u.value.series[0].data=e.sizeTrend.datas.map(f=>(f/1024/1024).toFixed())}finally{k()}},z=()=>{c.value=!0},k=()=>{c.value=!1};return g(),(e,s)=>(C(),O("div",M,[b("div",U,[t(l,{title:"存储总量",value:d.value,suffix:p.value},null,8,["value","suffix"]),t(l,{title:"文件数量",value:m.value,suffix:"个"},null,8,["value"]),t(l,{title:"下载流量",value:x.value,suffix:h.value},null,8,["value","suffix"]),t(l,{title:"GET请求次数",value:w.value,suffix:"次"},null,8,["value"])]),b("div",F,[t(i(D),{shadow:"hover"},{default:r(()=>[t(i(v),{modelValue:y.value,"onUpdate:modelValue":s[0]||(s[0]=o=>y.value=o),"destroy-inactive-tab-pane":""},{default:r(()=>[t(i(v).TabPane,{key:"flow",tab:"流量趋势"},{default:r(()=>[t(i(_),{option:n.value,style:{height:"320px"},autoresize:""},null,8,["option"])]),_:1}),t(i(v).TabPane,{key:"space",tab:"容量趋势"},{default:r(()=>[t(i(_),{option:u.value,style:{height:"320px"},autoresize:""},null,8,["option"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])]))}}),se=V(G,[["__scopeId","data-v-8299a4ee"]]);export{se as default};
